This is the second attempt at creating an OMDoc-Interface.
First Release - 02 April 2005

OMDoc-Documents are read in with the 'Haskell XML Toolbox', validated and the resulting structures are processed.
The advantage of this is that there is no need for having complete OMDoc-Support but inferfaces for neded elementes.
The current implementation of functions is not really usefull but serves as a test for the concept.

The idea is not to rebuild the OMDoc-structure as a datatype but to tag certain parts of the XML-structure with algebraic datatypes to make their content processable with specialized functions.
What is needed now is a concept of storing information from/for Hets in OMDoc without (or with?) expanding the OMDoc-DTD.

Using it:
To use the functions import OmdocHXT and make the 'Haskell XML Toolbox' avaiable either by package or by including the 'HetCATS/hxt'-Path in the search path for imported modules.

Reading an OMDoc :
omdoc <- mkOmdocFromURI <file> e.g. "examples/example.omdoc"

There is a rudimentary Show-Instance for the Datatype (Omdoc).

Extracting Theories from the OMDoc:
getTheories omdoc (:: [Theory])

There is also a Show-Instance for Theories

There is an example-Program (Test) included that can be generated by invoking 'make'.

Writing an OMDoc :
There is a function called 
	createOmdoc::Attributes->Maybe Metadata->Maybe Catalogue->[OmdocItem]
wich creates an OMDoc from attributes, metadata, a catalogue and OmdocItems. This function is currently not very much developed...

The function 
	writeOmdocToURI::String->Omdoc->IO ()
tries to write an OMDoc to an URI - a file - by using functions from the 'Haskell XML Toolbox'.
Writing a previously read in Omdoc back to a file will result in different but as it looks equivalent XML-Output.
The current problem with this is, that the information on where the DTD came from (internal or external) is lost and so a default external DTD is assumed (file 'omdoc.dtd' in same directory).

'OmdocHXT.hs' is right now a bit confusing and needs some cleaning and structuring.
'Omdoc_HXTAccess.hs' was initially created by 'DtdToHXT' from the 'Haskell XML Toolbox' and manually extended. 
